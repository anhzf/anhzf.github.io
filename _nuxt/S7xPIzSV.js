import{t as w,i as x,n as Y,a as O,b as C}from"./C981Dyui.js";import{G as L,c as g,o as T,Z as _,P as b}from"./CWwrRJ3_.js";function B(e){var n;const o=w(e);return(n=o==null?void 0:o.$el)!=null?n:o}const S=x?window:void 0,V=x?window.navigator:void 0;function y(...e){let n,o,s,u;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,s,u]=e,n=S):[n,o,s,u]=e,!n)return Y;Array.isArray(o)||(o=[o]),Array.isArray(s)||(s=[s]);const i=[],l=()=>{i.forEach(r=>r()),i.length=0},d=(r,a,f,p)=>(r.addEventListener(a,f,p),()=>r.removeEventListener(a,f,p)),c=b(()=>[B(n),w(u)],([r,a])=>{if(l(),!r)return;const f=O(a)?{...a}:a;i.push(...o.flatMap(p=>s.map(m=>d(r,p,m,f))))},{immediate:!0,flush:"post"}),v=()=>{c(),l()};return C(v),v}function j(){const e=g(!1),n=_();return n&&T(()=>{e.value=!0},n),e}function D(e){const n=j();return L(()=>(n.value,!!e()))}const F={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function N(e={}){const{type:n="page",touch:o=!0,resetOnTouchEnds:s=!1,initialValue:u={x:0,y:0},window:i=S,target:l=i,scroll:d=!0,eventFilter:c}=e;let v=null;const r=g(u.x),a=g(u.y),f=g(null),p=typeof n=="function"?n:F[n],m=t=>{const h=p(t);v=t,h&&([r.value,a.value]=h,f.value="mouse")},E=t=>{if(t.touches.length>0){const h=p(t.touches[0]);h&&([r.value,a.value]=h,f.value="touch")}},M=()=>{if(!v||!i)return;const t=p(v);v instanceof MouseEvent&&t&&(r.value=t[0]+i.scrollX,a.value=t[1]+i.scrollY)},A=()=>{r.value=u.x,a.value=u.y},H=c?t=>c(()=>m(t),{}):t=>m(t),W=c?t=>c(()=>E(t),{}):t=>E(t),X=c?()=>c(()=>M(),{}):()=>M();if(l){const t={passive:!0};y(l,["mousemove","dragover"],H,t),o&&n!=="movement"&&(y(l,["touchstart","touchmove"],W,t),s&&y(l,"touchend",A,t)),d&&n==="page"&&y(i,"scroll",X,{passive:!0})}return{x:r,y:a,sourceType:f}}function P(e={},n={}){const{navigator:o=V}=n,s=o,u=D(()=>s&&"canShare"in s);return{isSupported:u,share:async(l={})=>{if(u.value){const d={...w(e),...w(l)};let c=!0;if(d.files&&s.canShare&&(c=s.canShare({files:d.files})),c)return s.share(d)}}}}export{N as a,P as u};
